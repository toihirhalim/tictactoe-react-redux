(this["webpackJsonptictactoe-react-redux"]=this["webpackJsonptictactoe-react-redux"]||[]).push([[0],{19:function(e,t,s){},20:function(e,t,s){},31:function(e,t,s){"use strict";s.r(t);var r=s(1),n=s.n(r),c=s(7),a=s.n(c),i=(s(19),s(20),s(9)),l=s(0);function o(e){var t=e.pos,s=e.value,r=e.lastplayed,n=e.playAtPosition;return Object(l.jsx)("div",{className:(r?"case last-played-case":"case")+("x"===s?" blue":"o"===s?" red":""),onClick:function(e){""===s&&n(t)},children:Object(l.jsx)("p",{children:s})})}var u=s(2),j=function(e){return{type:"PLAY",pos:e}},d="o",b="x";function x(e,t,s,r,n){var c=function(e){for(var t=0;t<3;t++)if(e[t][0]===e[t][1]&&e[t][1]===e[t][2]){if(e[t][0]===d)return 10;if(e[t][0]===b)return-10}for(var s=0;s<3;s++)if(e[0][s]===e[1][s]&&e[1][s]===e[2][s]){if(e[0][s]===d)return 10;if(e[0][s]===b)return-10}if(e[0][0]===e[1][1]&&e[1][1]===e[2][2]){if(e[0][0]===d)return 10;if(e[0][0]===b)return-10}if(e[0][2]===e[1][1]&&e[1][1]===e[2][0]){if(e[0][2]===d)return 10;if(e[0][2]===b)return-10}return 0}(e);if(10===c)return c;if(-10===c)return c;if(!1===function(e){for(var t=0;t<3;t++)for(var s=0;s<3;s++)if(""===e[t][s])return!0;return!1}(e))return 0;if(s){for(var a=-1e3,i=0;i<3;i++)for(var l=0;l<3;l++)if(""===e[i][l]){e[i][l]=d;var o=x(e,t+1,!s,r,n);if(a=Math.max(a,o),r=Math.max(r,a),e[i][l]="",n<=r)break}return a}for(var u=1e3,j=0;j<3;j++)for(var f=0;f<3;f++)if(""===e[j][f]){e[j][f]=b;var O=x(e,t+1,!s,r,n);if(u=Math.min(u,O),n=Math.min(n,u),e[j][f]="",n<=r)break}return u}var f=function(e,t){var s=function(e){var t=[];return e.forEach((function(e,s){e.forEach((function(e,r){""===e&&t.push({x:s,y:r})}))})),t}(e);return 0===t&&s.length>=0?s[Math.floor(Math.random()*s.length)]:s.length>=0&&1===t?O(e,s):2===t?function(e){for(var t=-1e3,s=[],r=0;r<3;r++)for(var n=0;n<3;n++)if(""===e[r][n]){e[r][n]=d;var c=x(e,0,!1,-1e3,1e3);e[r][n]="",c>t?(s=[{x:r,y:n}],t=c):c===t&&s.push({x:r,y:n})}return s[Math.floor(Math.random()*s.length)]}(e):null},O=function(e,t){for(var s=0;s<t.length;s++)for(var r=v(t[s]),n=0;n<r.length;n++)if(r[n].every((function(t){return"o"===e[t.x][t.y]})))return t[s];for(var c=0;c<t.length;c++)for(var a=v(t[c]),i=0;i<a.length;i++)if(a[i].every((function(t){return"x"===e[t.x][t.y]})))return t[c];return t[Math.floor(Math.random()*t.length)]},v=function(e){var t=[];return t.push([{x:e.x,y:0},{x:e.x,y:1},{x:e.x,y:2}].filter((function(t){return t.y!==e.y}))),t.push([{x:0,y:e.y},{x:1,y:e.y},{x:2,y:e.y}].filter((function(t){return t.x!==e.x}))),e.x===e.y&&t.push([{x:0,y:0},{x:1,y:1},{x:2,y:2}].filter((function(t){return t.x!==e.x}))),3-e.x-e.y===1&&t.push([{x:2,y:0},{x:1,y:1},{x:0,y:2}].filter((function(t){return t.x!==e.x}))),t};function h(e){var t=e.rot,s=e.top,r=e.left;return Object(l.jsx)("div",{className:"line",style:{top:s+"px",left:r+"px",transform:"rotate("+t+"deg)"}})}function p(){var e=Object(u.c)((function(e){return e.game})),t=Object(u.c)((function(e){return e.isAiPlaying})),s=Object(u.c)((function(e){return e.level})),n=Object(u.b)(),c=Object(r.useState)([]),a=Object(i.a)(c,2),d=a[0],b=a[1],x=function(s){e.isGameOver||"o"===e.player&&t||n(j(s))};return Object(r.useEffect)((function(){var r=!1;if(e.movesCount>=5){var c=function(e,t){var s={result:"UNKNOWN",types:[]};return e[0][t.y]===e[1][t.y]&&e[1][t.y]===e[2][t.y]&&(s.result="WIN",s.types.push("col")),e[t.x][0]===e[t.x][1]&&e[t.x][1]===e[t.x][2]&&(s.result="WIN",s.types.push("row")),t.x===t.y&&e[0][0]===e[1][1]&&e[1][1]===e[2][2]&&(s.result="WIN",s.types.push("diag")),3-t.x-t.y===1&&e[0][2]===e[1][1]&&e[1][1]===e[2][0]&&(s.result="WIN",s.types.push("adiag")),s}(e.board,e.lastMove);if(b(c.types),e.isGameOver)return;"WIN"===c.result?(n({type:"OVER"}),"x"===e.board[e.lastMove.x][e.lastMove.y]?n({type:"WIN"}):n({type:"LOST"}),r=!0):9===e.movesCount&&(n({type:"DRAW"}),r=!0)}else b([]);if(!r&&t&&"o"===e.player){var a=f(e.board,s);a&&setTimeout((function(){n(j(a))}),500)}}),[e.isGameOver,e.player,e.movesCount,e.board,e.lastMove,t,s,n,b]),Object(l.jsxs)("div",{className:"board finger-paint",children:[e.board.map((function(t,s){return t.map((function(t,r){var n=s+","+r,c={x:s,y:r},a=e.lastMove.x===s&&e.lastMove.y===r;return Object(l.jsx)(o,{pos:c,lastplayed:a,value:t,playAtPosition:x},n)}))})),d.map((function(t,s){var r,n,c=(r=t,n=e.lastMove,"row"===r?{rot:0,top:100*n.x+45,left:15}:"col"===r?{rot:90,top:145,left:100*n.y-85}:"diag"===r?{rot:45,top:145,left:15}:"adiag"===r?{rot:-45,top:145,left:15}:void 0);return Object(l.jsx)(h,{rot:c.rot,top:c.top,left:c.left},s)}))]})}var m=s(14),y=s.n(m);s(30);function N(){var e=Object(r.useState)(Object(u.c)((function(e){return 100*e.level}))),t=Object(i.a)(e,2),s=t[0],n=t[1],c=Object(u.b)();return Object(l.jsxs)("div",{className:"level",children:[Object(l.jsx)("h5",{children:"Ai Level"}),Object(l.jsx)(y.a,{min:0,max:200,step:1,value:s,onChange:function(e){n(e)},labels:{0:"Dumb",100:"Meduim",200:"Hard"},tooltip:!1,onChangeComplete:function(e){s<50?(c({type:"DUMB"}),n(0)):s<150?(c({type:"MEDIUM"}),n(100)):(c({type:"HARD"}),n(200))},className:"slider"})]})}function g(){return Object(l.jsx)("div",{className:"circle"})}function w(e){var t=e.on,s=e.value,r=e.onClick;return Object(l.jsx)("div",{onClick:r,children:t?Object(l.jsxs)("div",{className:"switch",children:[Object(l.jsx)("p",{className:"value",children:s}),Object(l.jsx)(g,{})]}):Object(l.jsxs)("div",{className:"switch",children:[Object(l.jsx)(g,{}),Object(l.jsx)("p",{className:"value",children:s})]})})}function M(){var e=Object(u.c)((function(e){return e.isAiPlaying})),t=Object(u.b)();return Object(l.jsxs)("div",{className:"opponent",children:[Object(l.jsx)("h5",{children:"Opponent"}),Object(l.jsx)(w,{on:e,value:e?"Ai":"Human",onClick:function(s){t(e?{type:"HUMAIN"}:{type:"AI"})}})]})}function A(){var e=Object(u.c)((function(e){return e.isAiPlaying}));return Object(l.jsxs)("div",{className:"settings",children:[Object(l.jsx)(M,{}),e&&Object(l.jsx)(N,{})]})}function C(e){var t=e.wins,s=e.losses,r=e.draws;return Object(l.jsxs)("div",{className:"default",children:[Object(l.jsx)("div",{className:"wins",children:Object(l.jsxs)("p",{children:["Wins : ",t]})}),Object(l.jsx)("div",{className:"draws",children:Object(l.jsxs)("p",{children:["Draws : ",r]})}),Object(l.jsx)("div",{className:"losses",children:Object(l.jsxs)("p",{children:["Losses : ",s]})})]})}function I(e){var t=e.wins,s=e.losses,r=e.draws,n=e.games;return Object(l.jsxs)("div",{className:"footer",children:[0!==t&&Object(l.jsx)("div",{className:"element wins",style:{flex:t},children:Object(l.jsxs)("p",{children:[(100*t/n).toFixed(1),"% Won"]})}),0!==r&&Object(l.jsx)("div",{className:"element draws",style:{flex:r},children:Object(l.jsxs)("p",{children:[(100*r/n).toFixed(1),"% Draw"]})}),0!==s&&Object(l.jsx)("div",{className:"element losses",style:{flex:s},children:Object(l.jsxs)("p",{children:[(100*s/n).toFixed(1),"% Lost"]})})]})}function S(){return Object(l.jsx)("div",{className:"equal",children:Object(l.jsx)("p",{children:"="})})}function E(){return Object(l.jsx)("div",{className:"minus",children:Object(l.jsx)("p",{children:"-"})})}function T(){return Object(l.jsx)("div",{className:"plus",children:Object(l.jsx)("p",{children:"+"})})}function W(e){var t=e.wins,s=e.losses,r=e.draws;return Object(l.jsxs)("div",{className:"header bold",children:[0!==t&&Object(l.jsxs)("div",{className:"wins",style:{flex:t},children:[Object(l.jsx)(T,{}),Object(l.jsx)("p",{children:t})]}),0!==r&&Object(l.jsxs)("div",{className:"draws",style:{flex:r},children:[Object(l.jsx)(S,{}),Object(l.jsx)("p",{children:r})]}),0!==s&&Object(l.jsxs)("div",{className:"losses",style:{flex:s},children:[Object(l.jsx)(E,{}),Object(l.jsx)("p",{children:s})]})]})}function D(e){var t=e.wins,s=e.losses,r=e.draws;return Object(l.jsxs)("div",{className:"tricolor-bar",children:[Object(l.jsx)("div",{className:"bar win",style:{flex:t}}),Object(l.jsx)("div",{className:"bar draws",style:{flex:r}}),Object(l.jsx)("div",{className:"bar losses",style:{flex:s}})]})}function G(){var e=Object(u.c)((function(e){return e.statistics.wins+e.statistics.losses+e.statistics.draws})),t=Object(u.c)((function(e){return e.statistics}));return Object(l.jsx)("div",{className:"game-bar",children:0===e?Object(l.jsx)(C,{wins:t.wins,losses:t.losses,draws:t.draws}):Object(l.jsxs)("div",{children:[Object(l.jsx)(W,{wins:t.wins,losses:t.losses,draws:t.draws}),Object(l.jsx)(D,{wins:t.wins,losses:t.losses,draws:t.draws}),Object(l.jsx)(I,{wins:t.wins,losses:t.losses,draws:t.draws,games:e})]})})}function P(){var e=Object(u.c)((function(e){return 3*e.statistics.wins-2*e.statistics.losses+e.statistics.draws})),t=Object(u.c)((function(e){return e.statistics.wins+e.statistics.losses+e.statistics.draws}));return Object(l.jsxs)("div",{className:"general",children:[Object(l.jsxs)("div",{className:"infos",children:[Object(l.jsx)("p",{children:"Rating : "}),Object(l.jsx)("p",{className:"rating",children:e})]}),Object(l.jsxs)("div",{className:"infos",children:[Object(l.jsx)("p",{children:"Games : "}),Object(l.jsxs)("p",{className:"games",children:[" ",t]})]})]})}function L(){return Object(l.jsxs)("div",{className:"statistics",children:[Object(l.jsx)(P,{}),Object(l.jsx)(G,{})]})}function R(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.isAiPlaying})),s=Object(u.c)((function(e){return e.game.player}));return Object(l.jsxs)("div",{className:"status",children:[Object(l.jsxs)("div",{className:"player",style:"x"===s?{borderBottom:" 2px solid blue"}:null,children:[Object(l.jsx)("p",{children:"You :"}),Object(l.jsx)("p",{className:"finger-paint blue player-char",children:"x"})]}),Object(l.jsx)("div",{className:"new-game",children:Object(l.jsx)("div",{children:Object(l.jsx)("button",{onClick:function(t){return e({type:"RESET"})},children:"New Game"})})}),Object(l.jsxs)("div",{className:"opponent",style:"o"===s?{borderBottom:"2px solid red"}:null,children:[Object(l.jsxs)("p",{children:[t?"AI":"Opp"," :"]}),Object(l.jsx)("p",{className:"finger-paint red player-char",children:"o"})]})]})}function k(){return Object(l.jsxs)("div",{className:"game",children:[Object(l.jsx)(A,{}),Object(l.jsx)(p,{}),Object(l.jsx)(R,{}),Object(l.jsx)(L,{})]})}var F=function(){return Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)("h1",{className:"title",children:"Tic Tac Toe"}),Object(l.jsx)(k,{})]})},H=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,32)).then((function(t){var s=t.getCLS,r=t.getFID,n=t.getFCP,c=t.getLCP,a=t.getTTFB;s(e),r(e),n(e),c(e),a(e)}))},U=s(5),B=s(3),J=s(6),Y={board:[["","",""],["","",""],["","",""]],player:"x",movesCount:0,lastMove:{x:-1,y:-1},isGameOver:!1},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET":return t.game;case"PLAY":return{board:[].concat(Object(J.a)(e.board.slice(0,t.pos.x)),[[].concat(Object(J.a)(e.board[t.pos.x].slice(0,t.pos.y)),[e.player],Object(J.a)(e.board[t.pos.x].slice(t.pos.y+1,e.board.length)))],Object(J.a)(e.board.slice(t.pos.x+1,e.board.length))),player:"x"===e.player?"o":"x",lastMove:t.pos,movesCount:e.movesCount+1,isGameOver:e.isGameOver};case"OVER":return Object(B.a)(Object(B.a)({},e),{},{isGameOver:!0});case"SWITCH":return Object(B.a)(Object(B.a)({},e),{},{player:"x"===e.player?"o":"x"});case"RESET":return Object(B.a)(Object(B.a)({},e),{},{board:Y.board,lastMove:Y.lastMove,movesCount:Y.movesCount,isGameOver:Y.isGameOver});default:return e}},q={wins:0,losses:0,draws:0},K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"WIN":return Object(B.a)(Object(B.a)({},e),{},{wins:e.wins+1});case"LOST":return Object(B.a)(Object(B.a)({},e),{},{losses:e.losses+1});case"DRAW":return Object(B.a)(Object(B.a)({},e),{},{draws:e.draws+1});case"SET":return t.statistics;case"CLEAR":return q;default:return e}},z=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"HUMAIN":return!1;case"AI":return!0;default:return e}},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DUMB":return 0;case"MEDIUM":return 1;case"HARD":return 2;default:return e}},X=Object(U.a)({game:V,statistics:K,isAiPlaying:z,level:Q}),Z=function(){try{var e=localStorage.getItem("state");if(null===e)return;return JSON.parse(e)}catch(t){return}}(),$=null;($=Z?Object(U.b)(X,Z.state):Object(U.b)(X)).subscribe((function(){!function(e){try{var t=JSON.stringify(e);localStorage.setItem("state",t)}catch(s){}}({state:$.getState()})})),a.a.render(Object(l.jsx)(n.a.StrictMode,{children:Object(l.jsx)(u.a,{store:$,children:Object(l.jsx)(F,{})})}),document.getElementById("root")),H()}},[[31,1,2]]]);
//# sourceMappingURL=main.ef1d1b66.chunk.js.map