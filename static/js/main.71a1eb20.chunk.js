(this["webpackJsonptictactoe-react-redux"]=this["webpackJsonptictactoe-react-redux"]||[]).push([[0],{19:function(e,t,s){},20:function(e,t,s){},31:function(e,t,s){"use strict";s.r(t);var c=s(1),n=s.n(c),r=s(7),a=s.n(r),i=(s(19),s(20),s(9)),l=s(0);function o(e){var t=e.pos,s=e.value,c=e.lastplayed,n=e.playAtPosition;return Object(l.jsx)("div",{className:(c?"case last-played-case":"case")+("x"===s?" blue":"o"===s?" red":""),onClick:function(e){""===s&&n(t)},children:Object(l.jsx)("p",{children:s})})}var j=s(2),u=function(e){return{type:"PLAY",pos:e}},d=function(e,t){for(var s=0;s<t.length;s++)for(var c=b(t[s]),n=0;n<c.length;n++)if(c[n].every((function(t){return"o"===e[t.x][t.y]})))return t[s];for(var r=0;r<t.length;r++)for(var a=b(t[r]),i=0;i<a.length;i++)if(a[i].every((function(t){return"x"===e[t.x][t.y]})))return t[r];return t[Math.floor(Math.random()*t.length)]},b=function(e){var t=[];return t.push([{x:e.x,y:0},{x:e.x,y:1},{x:e.x,y:2}].filter((function(t){return t.y!==e.y}))),t.push([{x:0,y:e.y},{x:1,y:e.y},{x:2,y:e.y}].filter((function(t){return t.x!==e.x}))),e.x===e.y&&t.push([{x:0,y:0},{x:1,y:1},{x:2,y:2}].filter((function(t){return t.x!==e.x}))),3-e.x-e.y===1&&t.push([{x:2,y:0},{x:1,y:1},{x:0,y:2}].filter((function(t){return t.x!==e.x}))),t};function x(e){var t=e.rot,s=e.top,c=e.left;return Object(l.jsx)("div",{className:"line",style:{top:s+"px",left:c+"px",transform:"rotate("+t+"deg)"}})}function O(){var e=Object(j.c)((function(e){return e.game})),t=Object(j.c)((function(e){return e.isAiPlaying})),s=Object(j.c)((function(e){return e.level})),n=Object(j.b)(),r=Object(c.useState)([]),a=Object(i.a)(r,2),b=a[0],O=a[1],v=function(s){e.isGameOver||"o"===e.player&&t||n(u(s))};return Object(c.useEffect)((function(){var c=!1;if(e.movesCount>=5){var r=function(e,t){var s={result:"UNKNOWN",types:[]};return e[0][t.y]===e[1][t.y]&&e[1][t.y]===e[2][t.y]&&(s.result="WIN",s.types.push("col")),e[t.x][0]===e[t.x][1]&&e[t.x][1]===e[t.x][2]&&(s.result="WIN",s.types.push("row")),t.x===t.y&&e[0][0]===e[1][1]&&e[1][1]===e[2][2]&&(s.result="WIN",s.types.push("diag")),3-t.x-t.y===1&&e[0][2]===e[1][1]&&e[1][1]===e[2][0]&&(s.result="WIN",s.types.push("adiag")),s}(e.board,e.lastMove);if(O(r.types),e.isGameOver)return;"WIN"===r.result?(n({type:"OVER"}),"x"===e.board[e.lastMove.x][e.lastMove.y]?n({type:"WIN"}):n({type:"LOST"}),c=!0):9===e.movesCount&&(n({type:"DRAW"}),c=!0)}else O([]);if(!c&&t&&"o"===e.player){var a=function(e,t){var s=function(e){var t=[];return e.forEach((function(e,s){e.forEach((function(e,c){""===e&&t.push({x:s,y:c})}))})),t}(e);return 0===t&&s.length>=0?s[Math.floor(Math.random()*s.length)]:s.length>=0?d(e,s):null}(e.board,s);a&&setTimeout((function(){n(u(a))}),500)}}),[e.isGameOver,e.player,e.movesCount,e.board,e.lastMove,t,s,n,O]),Object(l.jsxs)("div",{className:"board finger-paint",children:[e.board.map((function(t,s){return t.map((function(t,c){var n=s+","+c,r={x:s,y:c},a=e.lastMove.x===s&&e.lastMove.y===c;return Object(l.jsx)(o,{pos:r,lastplayed:a,value:t,playAtPosition:v},n)}))})),b.map((function(t,s){var c,n,r=(c=t,n=e.lastMove,"row"===c?{rot:0,top:100*n.x+45,left:15}:"col"===c?{rot:90,top:145,left:100*n.y-85}:"diag"===c?{rot:45,top:145,left:15}:"adiag"===c?{rot:-45,top:145,left:15}:void 0);return Object(l.jsx)(x,{rot:r.rot,top:r.top,left:r.left},s)}))]})}var v=s(14),f=s.n(v);s(30);function h(){var e=Object(c.useState)(Object(j.c)((function(e){return 100*e.level}))),t=Object(i.a)(e,2),s=t[0],n=t[1],r=Object(j.b)();return Object(l.jsxs)("div",{className:"level",children:[Object(l.jsx)("h5",{children:"Ai Level"}),Object(l.jsx)(f.a,{min:0,max:200,step:1,value:s,onChange:function(e){n(e)},labels:{0:"Dumb",100:"Meduim",200:"Hard"},tooltip:!1,onChangeComplete:function(e){s<50?(r({type:"DUMB"}),n(0)):s<150?(r({type:"MEDIUM"}),n(100)):(r({type:"HARD"}),n(200))},className:"slider"})]})}function p(){return Object(l.jsx)("div",{className:"circle"})}function m(e){var t=e.on,s=e.value,c=e.onClick;return Object(l.jsx)("div",{onClick:c,children:t?Object(l.jsxs)("div",{className:"switch",children:[Object(l.jsx)("p",{className:"value",children:s}),Object(l.jsx)(p,{})]}):Object(l.jsxs)("div",{className:"switch",children:[Object(l.jsx)(p,{}),Object(l.jsx)("p",{className:"value",children:s})]})})}function y(){var e=Object(j.c)((function(e){return e.isAiPlaying})),t=Object(j.b)();return Object(l.jsxs)("div",{className:"opponent",children:[Object(l.jsx)("h5",{children:"Opponent"}),Object(l.jsx)(m,{on:e,value:e?"Ai":"Human",onClick:function(s){t(e?{type:"HUMAIN"}:{type:"AI"})}})]})}function N(){var e=Object(j.c)((function(e){return e.isAiPlaying}));return Object(l.jsxs)("div",{className:"settings",children:[Object(l.jsx)(y,{}),e&&Object(l.jsx)(h,{})]})}function g(e){var t=e.wins,s=e.losses,c=e.draws;return Object(l.jsxs)("div",{className:"default",children:[Object(l.jsx)("div",{className:"wins",children:Object(l.jsxs)("p",{children:["Wins : ",t]})}),Object(l.jsx)("div",{className:"draws",children:Object(l.jsxs)("p",{children:["Draws : ",c]})}),Object(l.jsx)("div",{className:"losses",children:Object(l.jsxs)("p",{children:["Losses : ",s]})})]})}function w(e){var t=e.wins,s=e.losses,c=e.draws,n=e.games;return Object(l.jsxs)("div",{className:"footer",children:[0!==t&&Object(l.jsx)("div",{className:"element wins",style:{flex:t},children:Object(l.jsxs)("p",{children:[(100*t/n).toFixed(1),"% Won"]})}),0!==c&&Object(l.jsx)("div",{className:"element draws",style:{flex:c},children:Object(l.jsxs)("p",{children:[(100*c/n).toFixed(1),"% Draw"]})}),0!==s&&Object(l.jsx)("div",{className:"element losses",style:{flex:s},children:Object(l.jsxs)("p",{children:[(100*s/n).toFixed(1),"% Lost"]})})]})}function M(){return Object(l.jsx)("div",{className:"equal",children:Object(l.jsx)("p",{children:"="})})}function A(){return Object(l.jsx)("div",{className:"minus",children:Object(l.jsx)("p",{children:"-"})})}function C(){return Object(l.jsx)("div",{className:"plus",children:Object(l.jsx)("p",{children:"+"})})}function I(e){var t=e.wins,s=e.losses,c=e.draws;return Object(l.jsxs)("div",{className:"header bold",children:[0!==t&&Object(l.jsxs)("div",{className:"wins",style:{flex:t},children:[Object(l.jsx)(C,{}),Object(l.jsx)("p",{children:t})]}),0!==c&&Object(l.jsxs)("div",{className:"draws",style:{flex:c},children:[Object(l.jsx)(M,{}),Object(l.jsx)("p",{children:c})]}),0!==s&&Object(l.jsxs)("div",{className:"losses",style:{flex:s},children:[Object(l.jsx)(A,{}),Object(l.jsx)("p",{children:s})]})]})}function S(e){var t=e.wins,s=e.losses,c=e.draws;return Object(l.jsxs)("div",{className:"tricolor-bar",children:[Object(l.jsx)("div",{className:"bar win",style:{flex:t}}),Object(l.jsx)("div",{className:"bar draws",style:{flex:c}}),Object(l.jsx)("div",{className:"bar losses",style:{flex:s}})]})}function E(){var e=Object(j.c)((function(e){return e.statistics.wins+e.statistics.losses+e.statistics.draws})),t=Object(j.c)((function(e){return e.statistics}));return Object(l.jsx)("div",{className:"game-bar",children:0===e?Object(l.jsx)(g,{wins:t.wins,losses:t.losses,draws:t.draws}):Object(l.jsxs)("div",{children:[Object(l.jsx)(I,{wins:t.wins,losses:t.losses,draws:t.draws}),Object(l.jsx)(S,{wins:t.wins,losses:t.losses,draws:t.draws}),Object(l.jsx)(w,{wins:t.wins,losses:t.losses,draws:t.draws,games:e})]})})}function T(){var e=Object(j.c)((function(e){return 3*e.statistics.wins-2*e.statistics.losses+e.statistics.draws})),t=Object(j.c)((function(e){return e.statistics.wins+e.statistics.losses+e.statistics.draws}));return Object(l.jsxs)("div",{className:"general",children:[Object(l.jsxs)("div",{className:"infos",children:[Object(l.jsx)("p",{children:"Rating : "}),Object(l.jsx)("p",{className:"rating",children:e})]}),Object(l.jsxs)("div",{className:"infos",children:[Object(l.jsx)("p",{children:"Games : "}),Object(l.jsxs)("p",{className:"games",children:[" ",t]})]})]})}function W(){return Object(l.jsxs)("div",{className:"statistics",children:[Object(l.jsx)(T,{}),Object(l.jsx)(E,{})]})}function D(){var e=Object(j.b)(),t=Object(j.c)((function(e){return e.isAiPlaying})),s=Object(j.c)((function(e){return e.game.player}));return Object(l.jsxs)("div",{className:"status",children:[Object(l.jsxs)("div",{className:"player",style:"x"===s?{borderBottom:" 2px solid blue"}:null,children:[Object(l.jsx)("p",{children:"You :"}),Object(l.jsx)("p",{className:"finger-paint blue player-char",children:"x"})]}),Object(l.jsx)("div",{className:"new-game",children:Object(l.jsx)("div",{children:Object(l.jsx)("button",{onClick:function(t){return e({type:"RESET"})},children:"New Game"})})}),Object(l.jsxs)("div",{className:"opponent",style:"o"===s?{borderBottom:"2px solid red"}:null,children:[Object(l.jsxs)("p",{children:[t?"AI":"Opp"," :"]}),Object(l.jsx)("p",{className:"finger-paint red player-char",children:"o"})]})]})}function G(){return Object(l.jsxs)("div",{className:"game",children:[Object(l.jsx)(N,{}),Object(l.jsx)(O,{}),Object(l.jsx)(D,{}),Object(l.jsx)(W,{})]})}var P=function(){return Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)("h1",{className:"title",children:"Tic Tac Toe"}),Object(l.jsx)(G,{})]})},L=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,32)).then((function(t){var s=t.getCLS,c=t.getFID,n=t.getFCP,r=t.getLCP,a=t.getTTFB;s(e),c(e),n(e),r(e),a(e)}))},R=s(5),k=s(3),F=s(6),H={board:[["","",""],["","",""],["","",""]],player:"x",movesCount:0,lastMove:{x:-1,y:-1},isGameOver:!1},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET":return t.game;case"PLAY":return{board:[].concat(Object(F.a)(e.board.slice(0,t.pos.x)),[[].concat(Object(F.a)(e.board[t.pos.x].slice(0,t.pos.y)),[e.player],Object(F.a)(e.board[t.pos.x].slice(t.pos.y+1,e.board.length)))],Object(F.a)(e.board.slice(t.pos.x+1,e.board.length))),player:"x"===e.player?"o":"x",lastMove:t.pos,movesCount:e.movesCount+1,isGameOver:e.isGameOver};case"OVER":return Object(k.a)(Object(k.a)({},e),{},{isGameOver:!0});case"SWITCH":return Object(k.a)(Object(k.a)({},e),{},{player:"x"===e.player?"o":"x"});case"RESET":return Object(k.a)(Object(k.a)({},e),{},{board:H.board,lastMove:H.lastMove,movesCount:H.movesCount,isGameOver:H.isGameOver});default:return e}},B={wins:0,losses:0,draws:0},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"WIN":return Object(k.a)(Object(k.a)({},e),{},{wins:e.wins+1});case"LOST":return Object(k.a)(Object(k.a)({},e),{},{losses:e.losses+1});case"DRAW":return Object(k.a)(Object(k.a)({},e),{},{draws:e.draws+1});case"SET":return t.statistics;case"CLEAR":return B;default:return e}},Y=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"HUMAIN":return!1;case"AI":return!0;default:return e}},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DUMB":return 0;case"MEDIUM":return 1;case"HARD":return 2;default:return e}},q=Object(R.a)({game:U,statistics:J,isAiPlaying:Y,level:V}),K=function(){try{var e=localStorage.getItem("state");if(null===e)return;return JSON.parse(e)}catch(t){return}}(),z=null;(z=K?Object(R.b)(q,K.state):Object(R.b)(q)).subscribe((function(){!function(e){try{var t=JSON.stringify(e);localStorage.setItem("state",t)}catch(s){}}({state:z.getState()})})),a.a.render(Object(l.jsx)(n.a.StrictMode,{children:Object(l.jsx)(j.a,{store:z,children:Object(l.jsx)(P,{})})}),document.getElementById("root")),L()}},[[31,1,2]]]);
//# sourceMappingURL=main.71a1eb20.chunk.js.map