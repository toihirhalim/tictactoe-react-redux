(this["webpackJsonptictactoe-react-redux"]=this["webpackJsonptictactoe-react-redux"]||[]).push([[0],{19:function(e,s,t){},20:function(e,s,t){},31:function(e,s,t){"use strict";t.r(s);var c=t(1),n=t.n(c),a=t(7),r=t.n(a),i=(t(19),t(20),t(9)),l=t(0);function o(e){var s=e.pos,t=e.value,c=e.lastplayed,n=e.playAtPosition;return Object(l.jsx)("div",{className:(c?"case last-played-case":"case")+("x"===t?" blue":"o"===t?" red":""),onClick:function(e){""===t&&n(s)},children:Object(l.jsx)("p",{children:t})})}var j=t(2),u=function(e){return{type:"PLAY",pos:e}};function d(e){var s=e.rot,t=e.top,c=e.left;return Object(l.jsx)("div",{className:"line",style:{top:t+"px",left:c+"px",transform:"rotate("+s+"deg)"}})}function b(){var e=Object(j.c)((function(e){return e.game})),s=Object(j.c)((function(e){return e.isAiPlaying})),t=Object(j.c)((function(e){return e.level})),n=Object(j.b)(),a=Object(c.useState)([]),r=Object(i.a)(a,2),b=r[0],O=r[1],x=function(t){e.isGameOver||"o"===e.player&&s||n(u(t))};return Object(c.useEffect)((function(){var t=!1;if(e.movesCount>=5){var c=function(e,s){var t={result:"UNKNOWN",types:[]};return e[0][s.y]===e[1][s.y]&&e[1][s.y]===e[2][s.y]&&(t.result="WIN",t.types.push("col")),e[s.x][0]===e[s.x][1]&&e[s.x][1]===e[s.x][2]&&(t.result="WIN",t.types.push("row")),s.x===s.y&&e[0][0]===e[1][1]&&e[1][1]===e[2][2]&&(t.result="WIN",t.types.push("diag")),3-s.x-s.y===1&&e[0][2]===e[1][1]&&e[1][1]===e[2][0]&&(t.result="WIN",t.types.push("adiag")),t}(e.board,e.lastMove);if(O(c.types),e.isGameOver)return;"WIN"===c.result?(n({type:"OVER"}),"x"===e.board[e.lastMove.x][e.lastMove.y]?n({type:"WIN"}):n({type:"LOST"}),t=!0):9===e.movesCount&&(n({type:"DRAW"}),t=!0)}else O([]);if(!t&&s&&"o"===e.player){var a=function(e,s){var t=function(e){var s=[];return e.forEach((function(e,t){e.forEach((function(e,c){""===e&&s.push({x:t,y:c})}))})),s}(e);return t.length>=0?t[Math.floor(Math.random()*t.length)]:null}(e.board);a&&setTimeout((function(){n(u(a))}),500)}}),[e.isGameOver,e.player,e.movesCount,e.board,e.lastMove,s,t,n,O]),Object(l.jsxs)("div",{className:"board",children:[e.board.map((function(s,t){return s.map((function(s,c){var n=t+","+c,a={x:t,y:c},r=e.lastMove.x===t&&e.lastMove.y===c;return Object(l.jsx)(o,{pos:a,lastplayed:r,value:s,playAtPosition:x},n)}))})),b.map((function(s,t){var c,n,a=(c=s,n=e.lastMove,"row"===c?{rot:0,top:100*n.x+45,left:15}:"col"===c?{rot:90,top:145,left:100*n.y-85}:"diag"===c?{rot:45,top:145,left:15}:"adiag"===c?{rot:-45,top:145,left:15}:void 0);return Object(l.jsx)(d,{rot:a.rot,top:a.top,left:a.left},t)}))]})}var O=t(14),x=t.n(O);t(30);function v(){var e=Object(c.useState)(Object(j.c)((function(e){return 100*e.level}))),s=Object(i.a)(e,2),t=s[0],n=s[1],a=Object(j.b)();return Object(l.jsxs)("div",{className:"level",children:[Object(l.jsx)("h5",{children:"Ai Level"}),Object(l.jsx)(x.a,{min:0,max:200,step:1,value:t,onChange:function(e){n(e)},labels:{0:"Dumb",100:"Meduim",200:"Hard"},tooltip:!1,onChangeComplete:function(e){t<50?(a({type:"DUMB"}),n(0)):t<150?(a({type:"MEDIUM"}),n(100)):(a({type:"HARD"}),n(200))},className:"slider"})]})}function h(){return Object(l.jsx)("div",{className:"circle"})}function p(e){var s=e.on,t=e.value,c=e.onClick;return Object(l.jsx)("div",{onClick:c,children:s?Object(l.jsxs)("div",{className:"switch",children:[Object(l.jsx)("p",{className:"value",children:t}),Object(l.jsx)(h,{})]}):Object(l.jsxs)("div",{className:"switch",children:[Object(l.jsx)(h,{}),Object(l.jsx)("p",{className:"value",children:t})]})})}function f(){var e=Object(j.c)((function(e){return e.isAiPlaying})),s=Object(j.b)();return Object(l.jsxs)("div",{className:"opponent",children:[Object(l.jsx)("h5",{children:"Opponent"}),Object(l.jsx)(p,{on:e,value:e?"Ai":"Human",onClick:function(t){s(e?{type:"HUMAIN"}:{type:"AI"})}})]})}function m(){var e=Object(j.c)((function(e){return e.isAiPlaying}));return Object(l.jsxs)("div",{className:"settings",children:[Object(l.jsx)(f,{}),e&&Object(l.jsx)(v,{})]})}function y(e){var s=e.wins,t=e.losses,c=e.draws;return Object(l.jsxs)("div",{className:"default",children:[Object(l.jsx)("div",{className:"wins",children:Object(l.jsxs)("p",{children:["Wins : ",s]})}),Object(l.jsx)("div",{className:"draws",children:Object(l.jsxs)("p",{children:["Draws : ",c]})}),Object(l.jsx)("div",{className:"losses",children:Object(l.jsxs)("p",{children:["Losses : ",t]})})]})}function w(e){var s=e.wins,t=e.losses,c=e.draws,n=e.games;return Object(l.jsxs)("div",{className:"footer",children:[0!==s&&Object(l.jsx)("div",{className:"element wins",style:{flex:s},children:Object(l.jsxs)("p",{children:[(100*s/n).toFixed(1),"% Won"]})}),0!==c&&Object(l.jsx)("div",{className:"element draws",style:{flex:c},children:Object(l.jsxs)("p",{children:[(100*c/n).toFixed(1),"% Draw"]})}),0!==t&&Object(l.jsx)("div",{className:"element losses",style:{flex:t},children:Object(l.jsxs)("p",{children:[(100*t/n).toFixed(1),"% Lost"]})})]})}function N(){return Object(l.jsx)("div",{className:"equal",children:Object(l.jsx)("p",{children:"="})})}function g(){return Object(l.jsx)("div",{className:"minus",children:Object(l.jsx)("p",{children:"-"})})}function M(){return Object(l.jsx)("div",{className:"plus",children:Object(l.jsx)("p",{children:"+"})})}function C(e){var s=e.wins,t=e.losses,c=e.draws;return Object(l.jsxs)("div",{className:"header bold",children:[0!==s&&Object(l.jsxs)("div",{className:"wins",style:{flex:s},children:[Object(l.jsx)(M,{}),Object(l.jsx)("p",{children:s})]}),0!==c&&Object(l.jsxs)("div",{className:"draws",style:{flex:c},children:[Object(l.jsx)(N,{}),Object(l.jsx)("p",{children:c})]}),0!==t&&Object(l.jsxs)("div",{className:"losses",style:{flex:t},children:[Object(l.jsx)(g,{}),Object(l.jsx)("p",{children:t})]})]})}function A(e){var s=e.wins,t=e.losses,c=e.draws;return Object(l.jsxs)("div",{className:"tricolor-bar",children:[Object(l.jsx)("div",{className:"bar win",style:{flex:s}}),Object(l.jsx)("div",{className:"bar draws",style:{flex:c}}),Object(l.jsx)("div",{className:"bar losses",style:{flex:t}})]})}function I(){var e=Object(j.c)((function(e){return e.statistics.wins+e.statistics.losses+e.statistics.draws})),s=Object(j.c)((function(e){return e.statistics}));return Object(l.jsx)("div",{className:"game-bar",children:0===e?Object(l.jsx)(y,{wins:s.wins,losses:s.losses,draws:s.draws}):Object(l.jsxs)("div",{children:[Object(l.jsx)(C,{wins:s.wins,losses:s.losses,draws:s.draws}),Object(l.jsx)(A,{wins:s.wins,losses:s.losses,draws:s.draws}),Object(l.jsx)(w,{wins:s.wins,losses:s.losses,draws:s.draws,games:e})]})})}function S(){var e=Object(j.c)((function(e){return 3*e.statistics.wins-2*e.statistics.losses+e.statistics.draws})),s=Object(j.c)((function(e){return e.statistics.wins+e.statistics.losses+e.statistics.draws}));return Object(l.jsxs)("div",{className:"general",children:[Object(l.jsxs)("div",{className:"infos",children:[Object(l.jsx)("p",{children:"Rating : "}),Object(l.jsx)("p",{className:"rating",children:e})]}),Object(l.jsxs)("div",{className:"infos",children:[Object(l.jsx)("p",{children:"Games : "}),Object(l.jsxs)("p",{className:"games",children:[" ",s]})]})]})}function E(){return Object(l.jsxs)("div",{className:"statistics",children:[Object(l.jsx)(S,{}),Object(l.jsx)(I,{})]})}function T(){var e=Object(j.b)();return Object(l.jsxs)("div",{className:"game",children:[Object(l.jsx)(m,{}),Object(l.jsx)(b,{}),Object(l.jsx)("div",{className:"new-game",children:Object(l.jsx)("button",{onClick:function(s){return e({type:"RESET"})},children:"New Game"})}),Object(l.jsx)(E,{})]})}var W=function(){return Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)("h1",{className:"title",children:"Tic Tac Toe"}),Object(l.jsx)(T,{})]})},D=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,32)).then((function(s){var t=s.getCLS,c=s.getFID,n=s.getFCP,a=s.getLCP,r=s.getTTFB;t(e),c(e),n(e),a(e),r(e)}))},G=t(5),L=t(3),P=t(6),R={board:[["","",""],["","",""],["","",""]],player:"x",movesCount:0,lastMove:{x:-1,y:-1},isGameOver:!1},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,s=arguments.length>1?arguments[1]:void 0;switch(s.type){case"SET":return s.game;case"PLAY":return{board:[].concat(Object(P.a)(e.board.slice(0,s.pos.x)),[[].concat(Object(P.a)(e.board[s.pos.x].slice(0,s.pos.y)),[e.player],Object(P.a)(e.board[s.pos.x].slice(s.pos.y+1,e.board.length)))],Object(P.a)(e.board.slice(s.pos.x+1,e.board.length))),player:"x"===e.player?"o":"x",lastMove:s.pos,movesCount:e.movesCount+1,isGameOver:e.isGameOver};case"OVER":return Object(L.a)(Object(L.a)({},e),{},{isGameOver:!0});case"SWITCH":return Object(L.a)(Object(L.a)({},e),{},{player:"x"===e.player?"o":"x"});case"RESET":return Object(L.a)(Object(L.a)({},e),{},{board:R.board,lastMove:R.lastMove,movesCount:R.movesCount,isGameOver:R.isGameOver});default:return e}},F={wins:0,losses:0,draws:0},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,s=arguments.length>1?arguments[1]:void 0;switch(s.type){case"WIN":return Object(L.a)(Object(L.a)({},e),{},{wins:e.wins+1});case"LOST":return Object(L.a)(Object(L.a)({},e),{},{losses:e.losses+1});case"DRAW":return Object(L.a)(Object(L.a)({},e),{},{draws:e.draws+1});case"SET":return s.statistics;case"CLEAR":return F;default:return e}},U=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],s=arguments.length>1?arguments[1]:void 0;switch(s.type){case"HUMAIN":return!1;case"AI":return!0;default:return e}},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,s=arguments.length>1?arguments[1]:void 0;switch(s.type){case"DUMB":return 0;case"MEDIUM":return 1;case"HARD":return 2;default:return e}},J=Object(G.a)({game:k,statistics:H,isAiPlaying:U,level:B}),V=function(){try{var e=localStorage.getItem("state");if(null===e)return;return JSON.parse(e)}catch(s){return}}(),Y=null;(Y=V?Object(G.b)(J,V.state):Object(G.b)(J)).subscribe((function(){!function(e){try{var s=JSON.stringify(e);localStorage.setItem("state",s)}catch(t){}}({state:Y.getState()})})),r.a.render(Object(l.jsx)(n.a.StrictMode,{children:Object(l.jsx)(j.a,{store:Y,children:Object(l.jsx)(W,{})})}),document.getElementById("root")),D()}},[[31,1,2]]]);
//# sourceMappingURL=main.4e165547.chunk.js.map